1.0	INTRODUCTION

	THIS DOCUMENT DESCRIBES THE SEQUENCE OF OPERATIONS THAT MUST
	BE DONE TO CREATE
			1).	 THE FORTRAN LIBRARY (LIB40.REL)
		OR	1A).	ALTERNATIVE FORTRAN LIBRARY (LIB40.REL)
			2).	THE REENTRANT OPERATING SYSTEM
				(FORTR.SHR)
			3).	THE IMPURE USER DATA AREA ASSOCIATED WITH
				THE SHAREABLE OPERATING SYSTEM (FORTR.SHR)
				THIS DATA AREA IS CALLED IMP40.REL

2.0	METHOD

	TO CREATE LIB40.REL
	-----------------
	LIB40.REL CONTAINS ALL THE FILES IN THE FORTRAN LIBRARY
	INCLUDING ALL THE MATH ROUTINES AND ALL THE SUBROUTINES
	NECESSARY TO SUPPORT FORTRAN I/O OPERATIONS. THE FORTRAN
	OPERATING SYSTEM IS ALSO PART OF LIB40.REL . IT IS
	CALLED FORSE AND IS A NON-REENTRANT, NON-SHAREABLE PROGRAM
	THE OPERATIONS NECESSARY TO CREATE LIB40.REL ARE AS FOLLOWS:
	LIB40.REL IS CREATED BY USING THE INDIRECT COMMAND FILE NAMES.CMD
	WHICH SPECIFIES ALL THE SOURCE FILES NECESSARY TO BUILD THE SYSTEM
	LIBRARY


	;DELETE OR RENAME ALL REL FILES ON THE DISK AREA
.DELETE *.REL
	;COMPILE ALL SOURCE FILES FOR LIB40.REL FROM
	;INDIRECT COMMAND FILE NAMES.CMD
.COMPILE @NAMES.CMD
	;USE PIP TO MAKE LIB40.REL
.R PIP
*DSK:LIB40.RELc*.REL
+cC
	;THE FOLLOWING STEP IS OPTIONAL
	;IT WAS NOT DONE ON THE RELEASED VERSION
	;RETURN TO MONITOR (cC) TO RUN FUDGE2
	;TO WRITE INDEX BLOCKS FOR FAST LOADING
.R FUDGE2
*LIB40.LIB‚LIB40.REL/X$<ALTMODE>
+cC
.;LIB40.LIB MAY BE RENAMED TO LIB40.REL NOW IF THE FOLLOWING OPERATIONS
	;ARE NOT TO BE DONE, OTHERWISE IS SHOULD BE RENAMED AFTER
	; FOLLOWING OPERATIONS ARE DONE


	TO CREATE ALTERNATIVE LIB40.REL
	-------------------------------

	THIS IS OPTIONAL, IT PRODUCES A MODIFIED VERSION OF LIB40
	THIS IS THE VERSION CALLED XLIB40.REL ON THE RELEASED TAPE.

	THIS LIBRARY CONTAINS NONE OF THE I/O ROUTINES CONTAINED IN
	THE REENTRANT OPERATING SYSTEM, THUS IT IS MUCH SMALLER.
	HOWEVER IT CAN ONLY BE USED WITH THE REENTRANT SYSTEM.
	FOR INSTALLATIONS USING ONLY THE REENTRANT OPERATING SYSTEM
	THIS VERSION OF LIB40.REL WILL SAVE DSK SPACE AND LOADING TIME.
	NB. AND REQUIRES LOADER V52A OR LATER TO LOAD FORTR.SHR BY DEFAULT.
	THESE INSTALLATIONS SHOULD KEEP A VERSION WITH THE I/O ROUTINES
	IN SO THAT PROGRAMS CAN RUN NON-REENTRANTLY.

	USE THE SAME METHOD SHOWN ABOVE TO CREATE LIB40.REL
	BUT USE THE INDIRECT COMMAND FILE XNAMES.CMD RATHER THAN NAMES.CMD

	TO CREATE FORTR.SHR
	-----------------

	FORTR.SHR IS THE REENTRANT AND SHAREABLE VERSION OF THE
	FORTRAN OPERATING SYSTEM. IT IS CREATED USING THE INDIRECT
	COMMAND FILE HNAMES.CMD WHICH SPECIFIES ALL THE SOURCE FILES
	NECESSARY TO BUILD THE REENTRANT OPERATING SYSTEM.

	;DELETE OR RENAME ALL REL FILES ON DISK AREA
.DELETE *.REL
	;COMPILE AND LOAD THE SOURCE FILES FOR FORTR.SHR USING THE INDIRECT
	;COMMAND FILE HNAMES.CMD
.LOAD @HNAMES.CMD
	;AFTER LOADING THE LOADER RETURNS TO MONITOR MODE AND
	;NOW SAVE THE SHAREABLE OPERATING SYSTEM BY
.SSAVE DSK FORTR
	;DELETE ALL REL FILES AND FORTR.LOW SINCE THESE FILES ARE
	;NO LONGER NEEDED
.DELETE *.REL,*.LOW

	TO CREATE IMP40.REL
	-------------------
	IMP40.REL IS THE IMPURE DATA AREA OF THE FORTRAN
	OPERATING SYSTEM THAT IS LOADED WITH EACH USER PROGRAM 
	THAT IS REFERENCING THE REEENTRANT OPERATING SYSTEM.
	IT IS CREATED USING THE INDIRECT COMMMAND FILE LNAMES.CMD
	WHICH SPECIFIES ALL THE SOURCE FILES NECESSARY TO CREATE
	IMP40.REL.

	;COMPILE ALL SOURCE FILES FOR IMP40.REL USING THE INDIRECT
	;COMMAND FILE LNAMES.CMD
.COMPILE @LNAMES.CMD
	;AFTER RETURNING TO MONITOR MODE USE PIP TO COMBINE ALL REL
	;FILES INTO IMP40.REL
.R PIP
*DSK:IMP40.REMcê*.REL
+bÜC
.	;AFTER RETURNING TO MONITOR MODE WITH ‚C THEN RUN FUDGE2 TO
	;REMOVE EXTRA ZEROES FROM IMP40.REL
.R FUDGE2
*DSK:IMP40.LICcêDSK:IMP40.REL/A$<ALTMODE>
+bÜC
.	;AFTER RETURNING TO MONITOR MODE WITH ‚C THEN DELETE
	;ALL REL FILES
.DELETE *.REL
	;NOW RENAME ALL LIB FILES
.RENAME *.REL = *.LIB
	;DISK AREA SHOULD NOW CONTAIN
	;LIB40.REL,IMP40.REL,FORTR.SHR AND ALL SOURCE FILES
	;COPY THE LIBRARY AND OPERATING SYSTEM ONTO THE SYSTEM AREA
.R PIP
*SYS:/YbÜIMP40.REL,LIB40.REL,FORTR.SHR

	TO COPY THE FORTRAN SYSTEM (COMPILER AND LIBRARY) ONTO DEC TAPES
	USE THE PIP CCL FILES 1.CCL THROUGH 9.CCL AS FOLLOWS:-
.AS DTA 1
R PIP
*1.CCL@
cC
.AS DTA 2
R PIP
*2.CCL@bÜC
	ETC FOR 1.CCL THROUGH 9.CCL

[END OF LIB40.OPR]
